@model IEnumerable<Biblioteca.Models.Avaliacao>
@{
    ViewData["Title"] = "Minhas Avaliações";
}

<div id="listaLivros" class="container bg-black text-light p-5">
    <h1 class="text-center text-light mb-3">Minhas Avaliações</h1>
    <table class="table table-dark table-striped mt-3">
        <thead>
            <tr>
                <th>Data Avaliação</th>
                <th>Livro</th>
                <th>Nota</th>
                <th>Comentário</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td>@item.DataAvaliacao.ToString("dd/MM/yyyy")</td>
                        <td>@item.Livro?.Titulo</td>
                        <td>
                            @for (int i = 1; i <= 5; i++)
                            {
                                <i class="bi @(i <= item.Nota ? "bi-star-fill text-warning" : "bi-star text-secondary")"></i>
                            }
                        </td>
                        <td>@item.Comentario</td>
                        <td>
                            <a asp-action="Delete" asp-route-id="@item.AvaliacaoId" class="text-light text-decoration-none"><i class="bi bi-trash3"></i> Excluir</a>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="5" class="text-center">Nenhuma avaliação encontrada.</td>
                </tr>
            }
        </tbody>
    </table>
</div>